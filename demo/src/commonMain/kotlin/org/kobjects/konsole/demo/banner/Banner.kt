package org.kobjects.konsole.demo.banner

/**
 * Game of Banner
 *
 * Based on the BASIC game of Banner here
 * https://github.com/coding-horror/basic-computer-games/blob/main/06%20Banner/banner.bas
 *
 * Converted from BASIC to Java by Darren Cardenas.
 *
 * Converted from Java to Kotlin by Stefan Haustein
 */

suspend fun banner(read: suspend (String?) -> String, write: (String) -> Unit ) {
    while (true) {
        val statement = read("Text?").uppercase()

        if (statement.isBlank()) {
            break
        }

        val sb = StringBuilder()

        var i = 0
        while (i < statement.length) {
            val c = statement[i++]
            // surrogate pair handling
            val cp = if (c in '\ud800' .. '\ud8ff') "" + c + statement[i++] else "" + c
            sb.append((FONT[cp] ?: FONT["?"]!!).trimIndent());
            sb.append("\nâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ\n")
        }
        write(sb.toString())
    }
}

val FONT = mapOf(
    " " to """
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œ""",
    "A" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬œ
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬›â¬›â¬›â¬›â¬›â¬œ""",
    "B" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬›â¬›â¬œâ¬›â¬›â¬œ""",
    "C" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›""",
    "D" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ""",
    "E" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›""",
    "F" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›""",
    "G" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬›â¬›â¬›â¬œâ¬œâ¬œ""",
    "H" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬œ
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬œ
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›""",
    "I" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›""",
    "J" to """
        â¬œâ¬›â¬›â¬œâ¬œâ¬œâ¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬›""",
    "K" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬œ
        â¬œâ¬›â¬›â¬œâ¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›""",
    "L" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ""",
    "M" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬›â¬œ
        â¬œâ¬œâ¬œâ¬›â¬›â¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬›â¬œ
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›""",
    "N" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬œâ¬›â¬œâ¬œ
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬œ
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›""",
    "O" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ""",
    "P" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬œâ¬›â¬›â¬œ""",
    "Q" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬›â¬œâ¬œâ¬œâ¬›
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬œ""",
    "R" to """
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬›â¬›â¬œâ¬œâ¬›
        â¬œâ¬›â¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬›â¬›â¬œ""",
    "S" to """
        â¬›â¬œâ¬œâ¬œâ¬›â¬›â¬œ
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬›â¬œâ¬œâ¬›
        â¬œâ¬›â¬›â¬œâ¬œâ¬œâ¬›""",
    "T" to """
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬›â¬›â¬›â¬›â¬›â¬›
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›""",
    "U" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬›""",
    "V" to """
        â¬œâ¬œâ¬œâ¬œâ¬›â¬›â¬›
        â¬œâ¬œâ¬›â¬›â¬œâ¬œâ¬œ
        â¬›â¬›â¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬œâ¬›â¬›â¬œâ¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬›â¬›â¬›""",
    "W" to """
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬›â¬›â¬›â¬œâ¬œâ¬œ
        â¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œ
        â¬œâ¬›â¬›â¬›â¬›â¬›â¬›""",
    "X" to """
        â¬›â¬›â¬œâ¬œâ¬œâ¬›â¬›
        â¬œâ¬œâ¬›â¬œâ¬›â¬œâ¬œ
        â¬œâ¬œâ¬œâ¬›â¬œâ¬œâ¬œ
        â¬œâ¬œâ¬›â¬œâ¬›â¬œâ¬œ
        â¬›â¬›â¬œâ¬œâ¬œâ¬›â¬›""",
    "Y" to """
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬›â¬›
        â¬œâ¬œâ¬œâ¬œâ¬›â¬œâ¬œ
        â¬›â¬›â¬›â¬›â¬œâ¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬›â¬œâ¬œ
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬›â¬›""",
    "Z" to """
        â¬›â¬›â¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬›â¬›â¬œâ¬œâ¬›
        â¬›â¬œâ¬œâ¬›â¬›â¬œâ¬›
        â¬›â¬œâ¬œâ¬œâ¬œâ¬›â¬›""",
    "." to """
        â¬›â¬›â¬œâ¬œâ¬œâ¬œâ¬œ
        â¬›â¬›â¬œâ¬œâ¬œâ¬œâ¬œ""",
    "?" to """
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬›â¬œ
        â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›
        â¬›â¬œâ¬›â¬›â¬œâ¬œâ¬›
        â¬œâ¬œâ¬œâ¬œâ¬›â¬›â¬œ""",
    "!" to """
        â¬›â¬œâ¬›â¬›â¬›â¬›â¬›""",
    "\uD83D\uDE00" to """
       â¬œðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨â¬œ
       ðŸŸ¨ðŸŸ¨â¬›ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨
       ðŸŸ¨â¬›ðŸŸ¨ðŸŸ¨ðŸŸ¨â¬›ðŸŸ¨
       ðŸŸ¨â¬›ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨
       ðŸŸ¨â¬›ðŸŸ¨ðŸŸ¨ðŸŸ¨â¬›ðŸŸ¨
       ðŸŸ¨ðŸŸ¨â¬›ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨
       â¬œðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨ðŸŸ¨â¬œ"""
)
